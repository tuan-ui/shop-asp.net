
<section class="content-header">
    <h1>
        Danh sách hóa đơn

    </h1>
    <ol class="breadcrumb">
        <li><a href=""><i class="fa fa-dashboard"></i> Trang chủ</a></li>
        <li><a href="">Hóa đơn</a></li>
        <li class="active">Danh sách</li>
    </ol>
</section>
<div class="box">
    <div class="box-header with-border">
        <h3 class="box-title"> Danh sách hóa đơn</h3>
        <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="fa fa-minus"></i></button>
            <button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
        </div>
    </div>
    <div class="box-body">
        <di class="row">
            <div class="col-md-6">
                <label for="toDate">Tìm kiếm</label>
                <p class="input-group">
                    <input type="text" class="form-control" ng-model="keyword" placeholder="Từ khóa">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="search()">Tìm kiếm</button>
                    </span>
                </p>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="fromDate">From Date:</label>
                    <p class="input-group">
                        <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="fromDate" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="toDate">To Date:</label>
                    <p class="input-group">
                        <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="toDate" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </p>
                </div>

            </div>
            <div class="col-md-2">
                <label>Xuất toàn bộ hóa đơn</label>
                <p class="input-group">
                    <button class="btn btn-default justify-content-center" ng-click="exportExcel()">Xuất ra Excel</button>
                </p>
            </div>
        </di>
        <div class="row">
            <div class="col-md-12">
                <table class="table table-bordered">
                    <tr>
                        <th style="width: 5%">ID</th>
                        <th style="width: 35%">Tên khách hàng</th>
                        <th style="width: 20%">Ngày tạo</th>
                        <th style="width: 20%">Thành tiền</th>
                        <th style="width: 10%">Trạng thái</th>
                        <th style="width: 10%">Thao tác</th>
                    </tr>
                    <tr ng-repeat="item in order">
                        <td>{{ item.ID }}</td>
                        <td>{{ item.CustomerName }}</td>
                        <td>
                            {{ item.CreatedDate | date: 'dd/MM/yyyy hh:mm:ss'}}
                        </td>
                        <td>{{ item.TotalPrice }}</td>
                        <td>{{ item.PaymentStatus }}</td>
                        <td>
                            <button class="btn btn-sm btn-primary" ui-sref="edit_orders({id:item.ID})"><i class="fa fa-pencil"></i></button>
                            <button class="btn btn-sm btn-default" ng-click="exportPdf(item.ID)"><i class="fa fa-print"></i></button>
                        </td>
                    </tr>
                    <tfoot>
                        <tr>
                            <td colspan="6"><span class="pull-right">Trang: {{ page+1 }} - Tổng số bản ghi: {{ totalCount }}</span></td>
                        </tr>
                    </tfoot>
                </table>
                <div ng-if="loading">
                    <div class="col-xs-4"></div>
                    <div class="col-xs-4 text-center">
                        <i class="fa fa-refresh fa-4x fa-spin"></i>
                    </div>
                    <div class="col-xs-4"></div>
                </div>
            </div>
        </div>
    </div><!-- /.box-body -->
    <div class="box-footer">
        <pager-directive page="{{page}}" custom-path="{{customPath}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="getOrder(page)"></pager-directive>
    </div><!-- /.box-footer-->
</div><!-- /.box -->